<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>用户信息</title>
    <link rel="icon" href="lg.png" sizes="32x32"/>
    <link rel="stylesheet" href="css/bootstrap.min.css"/>
</head>
<body class="text-center">
    <div id="app">
        <p class="display-1">{{ user.username }}</p>
        <p>唯一标识符：{{ user.id }}</p>
        <p>电子邮箱：{{ user.email }}</p>
        <p>状态：{{ user.status | userStatus(user.status) }}</p>
    </div>
    <script src="js/vue.min.js"></script>
    <script src="js/vue-resource.min.js"></script>
    <script src="js/jquery-3.3.1.slim.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script>
        // 从model中获取在{ServiceRoot}/user/{username}这个URL中的username
        // 创建一个Vue的实例化对象，并且挂载至app
        var app = new Vue({
            el: '#app',
            data: {
                user: {"id":0,"username":"Loading...","email":"","status":0}, // 创建一个空属性，等待传入引用
                showUserInf: false
            },
            filters: {
                // 过滤器
                userStatus: function (status) {
                    return status === 0 ? '正常' : '异常';
                }
            },
            created: function () {
                // 生命周期钩子：在创建时调用
                var url = 'mock/root.json';
                this.init(url);
            },
            methods: {
                // 初始化方法
                init: function(url) {
                    // 使用Ajax请求"mock"
                    this.$http.get(url).then(function(response) {
                        this.user = response.body.content
                    });
                }
            }
        });
    </script>
</body>
</html>